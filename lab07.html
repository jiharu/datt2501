<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>Introduction to 3D Animation</title>
    
<link href="css/site.css" media="screen" rel="stylesheet" type="text/css" />
<link href="css/highlight.default.css" media="screen" rel="stylesheet" type="text/css" />
  
<script src="js/jquery.js"></script>
<script src="js/showdown.js" type="text/javascript"></script>

<link rel="icon" type="image/x-icon" href="favicon.ico" />
</head>
<body>
<!--
Write the markdown code below.
A guide to markdown syntax is at http://daringfireball.net/projects/markdown/

Tumblr 
https://www.tumblr.com/docs/en/custom_themes

add dates:
<i><small>{block:Date}{MonthNumberWithZero}/{DayOfMonthWithZero}/{ShortYear} {24HourWithZero}:{Minutes}{/block:Date} by {PostAuthorName}</small></i>

under   <section class="post">
-->

<div style="display: none" id="sourcetext">

# Week 7
	1. Preparation for walking cycle
		- 1. Preparing body mesh.  
		- 2. Creating skeleton and control rig using HIK controls editor.  
		- 3. Skinning and controlling skin weight.  
		- 4. Image plane.   
		- 5. Key all.   
		- 6. Turn on the Auto Key.   
		- 7. Analyzing and planning your walk animation.  
		- 8. Test a keyframe animation.  

	
## Review
- Review previous practices
- Tumblr

# Creating walking animation 
- Select the project and save a scene. 

## Preparation 
### 1. Preparing body mesh
- Import a body mesh  

You can find mesh data from [GettingStarted2015LessonData](https://knowledge.autodesk.com/support/maya/learn-explore/caas/CloudHelp/cloudhelp/ENU/123112/files/maya-tutorials-html.html)

Or download a human obj mesh from [here](data/Human.obj). Or you can use your own custom mesh, but make sure that it has enough subdivided spans.

- **Clean up the history and transformations**. If you change or edit your mesh, please delete any history before rigging. 

Edit > Delete All by Type > History. Then, select the body and choose **Modify > Freeze Transformations.**   

You should find that the transformation value became 0,0,0,0,0,0,1,1,1. 

Itâ€™s generally very important to have a mesh that is devoid of all history when getting ready to do any rigging or skinning. Deforming a mesh can be a processor-intensive procedure, and if there is other history on the mesh, Maya has to recalculate all those history nodes for every tweak to a skinned joint. 

### 2. Creating skeleton and control rig using HIK controls editor. 

Check out week 6 class notes. 

![hik](img/lab/hik.png)  

### 3. Skinning and controlling skin weight

![skinning](img/lab/skinning.png)  

1. Ensure to 'delete history' on the mesh. 
2. Choose the mesh and the root of the skeleton, and apply Bind skin. (Recommended option: In the option box of Bind skin, check **Heat Map bind method** and set Max influence to 2.)  
3. Check out different poses, and if it is necessary, please edit skin weights.    
	
### 4. Image plane
You can draw or find a reference image for your animation and then import it to your camera view (side). 

![ip01](img/lab/walk_p1.png), ![ip02](img/lab/walk_p7.png), ![ip03](img/lab/walk_p13.png), ![ip01](img/lab/walk_p19.png)         

![im01](img/lab/import01.png) 

### 5. Key all
We will make one cycle of walk animation. Let's select all and set key on the frame '1', '7', '13', '19', and '25'. 

We can choose either way to use HIK editor or you can crete a MEL command.

- Using HIK editor

![hik_01](img/lab/hik_select.png)  

- Or, Create MEL command (you can skip this process)

We can create a custom command using MEL to make a key process simpler.

What to make: the command which can key all necessary controllers. 
 
How to make:   

1. Open **the Script Editor**.  
2. Shift-select all controllers and set keyframe in the viewport.   
3. From the Script Editor (at the bottom right), find the MEL of the command you made and drag it with MM button to the **custom shelf**.
4. From the popup box, select the type as MEL and save.
5. Open the shelf setting (at the top left), check the Command, put the name at the Icon label. 

![mel](img/lab/mel.png) 


### 6. Turn on the Auto Key 

- If you turn on the Auto Key (at the bottom right), all your moves with controllers will be keyed. 

![key](img/lab/key.png) 

The Auto Keyframe feature automatically places keyframes on an object when a change is made to one of its attributes. For Auto Keyframe to work, the attribute must have an existing keyframe. To turn Auto Keyframe on, click the circular arrows icon to the right of the timeline. 

***Using Auto Keyframe is a matter of personal preference. While it is very convenient, however, at the same time, you can easily set unwanted keys on an object by mistake when using this feature, so remember to use it with caution.***

### 7. Analyzing and planning your walk animation
- Try to observe and remember walking and research walking related references.  
- We can apply [12 Principles of Animation](http://www.cgmeetup.net/home/12-principles-of-animation-by-frank-thomas-and-ollie-johnston/) such as:
	- Pose to pose & Straight ahead  
	- Follow through  
	- Secondary action  
	- Squash & Stretch

### 8. Test a keyframe animation
- If there is any error, please redo it until you can fix it. 
- Please repeat the processes, until you feel it comfortable. 

## Let's practice! 


</div>
<div id="wrapper">
	
	<div class="header">
		
		<h1>DATT2501</h1>		
		<a href="index.html">Overview</a><br/>
		<a href="datt2501_ji.pdf">Syllabus</a><br/>	
		<a href="due.html">Due dates</a><br/><br/>
					
		Tumblr process portfolio:<br/> <a href=http://2017datt2501.tumblr.com/>Lab 01</a>/ <a href=https://2017datt2501-2.tumblr.com/>Lab 02</a>/<a href=https://2017datt2501-03.tumblr.com/>Lab 03</a><br/><br/>
				
	    Week 1:<a href="lecture01.html"> lecture</a> /<a href="lab01.html"> lab</a> (<a href="due.html">ASGMT 1</a>)<br/>
		Week 2:<a href="lecture02.html"> lecture</a> /<a href="lab02.html"> lab</a> (<a href="due.html">ASGMT 2</a>)<br/>
		Week 3:<a href="lecture03.html"> lecture</a> /<a href="lab03.html"> lab</a> (<a href="due.html">Project 1</a>)<br/>  
		Week 4:<a href="lecture04.html"> lecture</a> /<a href="lab04.html"> lab</a> (<a href="due.html">ASGMT 3</a>)<br/>
		Week 5:<a href="lecture05.html"> lecture</a> /<a href="lab05.html"> lab</a> (<a href="due.html">ASGMT 4</a>)<br/>
		Week 6:<a href="lecture06.html"> lecture</a> /<a href="lab06.html"> lab</a> (<a href="due.html">ASGMT 5</a>)<br/>
		Reading week<br/>
		Week 7:<a href="lecture07.html"> lecture</a> /<a href="lab07.html"> lab</a> (<a href="due.html">ASGMT 6</a>)<br/>
		Week 8:<a href="lecture08.html"> Rigging I </a> (<a href="due.html">ASGMT 7</a>)<br/><!--
		Week 9:<a href="lecture09.html"> Rigging II </a> (<a href="due.html">Project 2</a>)<br/>
		Week 10:<a href="lecture10.html"> Walking I </a> (<a href="due.html">ASGMT 8</a>)<br/>
		Week 11:<a href="lecture11.html"> Walking II</a> (<a href="due.html">ASGMT 9</a>)<br/>   
		Week 12:<a href="lecture12.html"> Rendering </a> (<a href="due.html">Project 3</a>)<br/>  <br/>-->
	
	</div>
	<div class="section">
		<script type="text/javascript">
		//var converter = new Markdown.Converter();
		var converter = new Showdown.converter();
		document.write(converter.makeHtml($('#sourcetext').text()));
		</script>
	</div>
	
	<div class="footer">Haru (HyunKyung) Ji, 2017</div>
	
</div>
</body>
</html>